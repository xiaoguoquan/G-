<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>G不可失</title>
	<link rel="stylesheet" href="css/base.css">
	<link rel="stylesheet" href="css/animate.css">
	<link rel="stylesheet" href="css/index.css">
	<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="js/touch.js"></script>
	<script type="text/javascript" src="js/jQueryRotate.2.2.js"></script>
	<script type="text/javascript" src="js/fastclick.js"></script>
	<script type="text/javascript" src="js/turnplate1.js"></script>

</head>
<body>
	<div id="wrap">
		<img data-src="img/logo.png" alt="" id="logo">
		<img data-src="img/bg1.jpg" alt="" style="visibility:hidden">
		<div id="page1" class="page">
			<img data-src="img/logo.png" alt="" style="display:none">
			<img data-src="img/bg1.jpg" alt="" class="bg">
			<div class="section1">
				<img data-src="img/page1_1.png" alt="">
			</div>
			<div class="section2">
				<img data-src="img/page1_2.png" alt="">
				<div id="processBar">
					<img data-src="img/dot.png" alt="">
					<span>0%</span>
				</div>
			</div>
		</div>
		<div id="page2" class="page">
			<img data-src="img/bg1.jpg" alt="" class="bg">
			<div class="section1 animated slideInUp">
				<img data-src="img/page1_1.png" alt="">
			</div>
			<div class="section2 animated flash">
				<img data-src="img/page2_1.png" alt="">
			</div>
		</div>
		<div id="page3" class="page">
			<img data-src="img/bg2.jpg" alt="" class="bg">
			<div class="top-title  animated slideInLeft">
				<img data-src="img/page3_2.png" alt="">
			</div>
			<div class="section2 animated slideInRight">
				<img data-src="img/page3_1.png" alt="">
			</div>
			<div class="vedioBox">
				<img data-src="img/page3_4.png" alt="">

			</div>
			<div class="tips animated pulse">
				<img data-src="img/page3_3.png" alt="">
			</div>
		</div>
		<div id="page4" class="page">
			<img data-src="img/bg1.jpg" alt="" class="bg">
			<div class="top-title  animated slideInLeft">
				<img data-src="img/page3_2.png" alt="">
			</div>
			<div class="section2 animated slideInRight">
				<img data-src="img/page4_1.png" alt="">
			</div>
			<div id="open1" class="bounce">
				<img data-src="img/page4_2.png" alt="">
			</div>
			<div id="info">
				<img data-src="img/page4_3.png" alt="">
			</div>
		</div>
		<div id="page5" class="page">
			<img data-src="img/bg3.jpg" alt="" class="bg">
			<div id="backBtn">
				<img data-src="img/page5_1.png" alt="">
			</div>
		</div>
		<div id="page6" class="page">
			<img data-src="img/bg1.jpg" alt="" class="bg">
			<div class="top-title  animated slideInLeft">
				<img data-src="img/page3_2.png" alt="">
			</div>
			<div class="section2 animated slideInRight">
				<img data-src="img/page6_2.png" alt="">
			</div>
			<div id="open2" class="bounce">
				<img data-src="img/page6_1.png" alt="">
			</div>
		</div>
		<div id="page7" class="page">
			<img data-src="img/bg1.jpg" alt="" class="bg">
			<div class="top-title  animated slideInLeft">
				<img data-src="img/page3_2.png" alt="">
			</div>
			<div class="section2 animated slideInRight">
				<img data-src="img/page7_1.png" alt="">
			</div>
			<div id="open3" class="bounce">
				<img data-src="img/page7_2.png" alt="">
			</div>
		</div>
		<div id="page8" class="page">
			<img data-src="img/bg1.jpg" alt="" class="bg">
			<div class="top-title  animated slideInLeft">
				<img data-src="img/page3_2.png" alt="">
			</div>
			<div class="section2 animated slideInRight">
				<img data-src="img/page8_1.png" alt="">
			</div>
			<div class="section3 animated pulse2">
				<img data-src="img/page8_2.png" alt="">
			</div>
			<div id="bookBtn">
				<img data-src="img/page8_3.png" alt="">
			</div>
		</div>
		<div id="page9" class="page">
			<img data-src="img/bg1.jpg" alt="" class="bg">
			<div class="top-title  animated slideInLeft">
				<img data-src="img/page3_2.png" alt="">
			</div>
			<div class="rotatePlate">
				<div class="pointer">
					<img data-src="img/pointer.png" alt="">
				</div>
				<div id="trunplate"><img data-src="img/plate.png"></div>
			</div>
			<div id="startBtn">
				<img data-src="img/startBtn.png" alt="">
			</div>
		</div>
		<!-- 中奖结果 -->
		<div id="page10" class="page">
			<img data-src="img/bg1.jpg" alt="" class="bg">
			<div class="top-title  animated slideInLeft">
				<img data-src="img/page3_2.png" alt="">
			</div>
			<div id="awardBox" style="display:none">
				<img data-src="img/prise1.png" alt="" style="display:none">
				<img data-src="img/prise2.png" alt="" style="display:none">
				<img data-src="img/prise3.png" alt="" style="display:none">
				<div class="section1">
					<img data-src="img/prise1.png" alt="" id="priseBox">
				</div>
				<form action="" method="post">
					<div class="input-group">
						<img data-src="img/userBox.png" alt="">
						<input type="text" id="username">
					</div>
					<div class="input-group">
						<img data-src="img/telBox.png" alt="">
						<input type="tel" id="usertel">
					</div>
					<a href="javascript:void(0)" id="submit">
						<img data-src="img/submit.png" alt="">
					</a>
				</form>
			</div>
			<div id="noawardBox" style="display:none">
				<div class="noaward">
					<img data-src="img/noprise.png" alt="">
				</div>
				<a href="javascript:void(0)" class="shareBtn">
					<img data-src="img/share.png" alt="">
				</a>
				<div class="goTmall">
					<img data-src="img/gotmall.png" alt="">
				</div>
				<a href="javascript:void(0)" class="enterBtn">
					<img data-src="img/enter.png" alt="">
				</a>
			</div>
			<div id="shareMark" style="display:none">
				<img data-src="img/arrow.png" alt="">
			</div>
		</div>
	</div>
	<script type="text/javascript">
		$(function(){
			 FastClick.attach(document.body);
			/*首屏预加载*/
			var num1 = 0;
			for(var i = 0,len = $("#page1 img").length;i<len;i++){
				var img = new Image();
				img.src = $("#page1 img").eq(i).attr("data-src");
				img.onload = function(){
					num1++;
					//首屏图片加载完成
					if(num1==len){
						// alert(1);
						$("#page1 img").attr("src",function(){
							return $(this).attr("data-src");
						});
						$("#page1 img").removeAttr("data-src");
						$("#wrap>img").attr("src",function(){
							return $(this).attr("data-src");
						});
						$("#wrap>img").removeAttr("data-src");
						$("#page1").show();
						preload();
					}
				}
			}
			//所有图片预加载
			function preload(){
				var allNum = 0;
				for(var j=0,allLen=$(".page img:not('#page1 img')").length;j<allLen;j++){
					var img1 = new Image();
					img1.src = $(".page img:not('#page1 img')").eq(j).attr("data-src");
					img1.onload = function(){
						allNum++;
						// alert(allNum);
						var percent = Math.ceil(allNum/allLen*100);
						// console.log(percent);
						var processWidth = percent*94.68/100;
						$("#processBar").css({
							width:processWidth+"%"
						});
						$("#processBar span").html(percent+"%");
						if(allNum==allLen){
							$(".page img:not('#page1 img')").attr("src",function(){
								return $(this).attr("data-src")
							});
							$(".page img:not('#page1 img')").removeAttr("data-src");
							$("#page1").hide();
							$("#page2").show();
						}
					}
				}
			}
			//阻止页面默认滚动
			document.addEventListener('touchmove', function(e) {
				e.preventDefault();
			});
			touch.on("#page2","swipeup",function(e){
				$(".page").hide().siblings("#page3").show();
				// $("#page2").hide();
				// $("#page3").show();
				e.stopPropagation();

			})
			touch.on("#page3","swipedown",function(e){
				// $("#page3").hide();
				// $("#page2").show();
				$(".page").hide().siblings("#page2").show();
				e.stopPropagation();
			})
			touch.on("#page3","swipeup",function(e){
				// $("#page3").hide();
				// $("#page4").show();
				$(".page").hide().siblings("#page4").show();
				e.stopPropagation();
			})
			touch.on("#page4","swipedown",function(e){
				// $("#page4").hide();
				// $("#page3").show();
				$(".page").hide().siblings("#page3").show();
				e.stopPropagation();
			})
			//活动详情
			touch.on("#info","touchstart",function(){
				// $("#page4").hide();
				// $("#page5").show();
				$(".page").hide().siblings("#page5").show();
			})
			touch.on("#backBtn","touchstart",function(){
				// $("#page5").hide();
				// $("#page4").show();
				$(".page").hide().siblings("#page4").show();
			})
			//开启一重豪礼
			touch.on("#open1","touchstart",function(){
				// $("#page4").hide();
				// $("#page6").show();
				$(".page").hide().siblings("#page6").show();
			})
			//开启二重豪礼
			touch.on("#open2","touchstart",function(){
				// $("#page6").hide();
				// $("#page7").show();
				$(".page").hide().siblings("#page7").show();
			})
			touch.on("#page6","swipedown",function(e){
				// $("#page6").hide();
				// $("#page4").show();
				$(".page").hide().siblings("#page4").show();
				e.stopPropagation();
			})
			//开启三重豪礼
			touch.on("#open3","touchstart",function(){
				// $("#page7").hide();
				// $("#page8").show();
				$(".page").hide().siblings("#page8").show();
			})

			//激情预定
			touch.on("#page8","swipedown",function(e){
				// $("#page8").hide();
				// $("#page7").show();
				$(".page").hide().siblings("#page7").show();
				e.stopPropagation();
			})
			touch.on("#bookBtn","touchstart",function(){
				// $("#page8").hide();
				// $("#page9").show();
				$(".page").hide().siblings("#page9").show();
			})

			//分享
			$(".shareBtn").on("touchstart",function(){
				$("#shareMark").show();
			})
		})
	</script>
</body>
</html>
